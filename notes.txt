* cvs diff -bu2 src/common/strconv.cpp > utf8fix.diff

* proxy support for client
	(*) None ( ) SOCKS 4 ( ) SOCKS 5 ( ) HTTP CONNECT
	hostname port
	username password (enabled for SOCKS 5 and HTTP CONNECT)
	Use for following connections
		[ ] chat [ ] DCC connect [ ] DCC listen (dcc modes only enabled for SOCKS)
	Use for following destination network(s)
		( ) Any ( ) Only the following ( ) Everything but the following
		Network Address and Subnet Mask (dot separated IPv4 addresses)
	Use for following destination ports
		( ) Any (*) Matching (*) Not matching
		list of ports and port ranges (comma separated, dash for ranges)

	some way to pick when to use proxy

* Mutex (win32 + unix)
	use same OS API as wxSingleInstanceChecker
	make sure recursive safe (int m_depth;)
	wxCriticalSection to protect m_depth;
	assert on unlocking an unlocked mutex
	use same class layout as TrayIcon

* multiple instances using one config file will cause data loss if both write
	make ConfigFile extend wxConfigBase and forward to internal wx
	before forwarding anything, call EnsureLatestLoaded()
	call Flush() after any modification call
	the whole of any modification method should have the mutex locked
	constructor
		m_filename = GetConfigFilename();
		m_mutex = new Mutex(m_filename + wxT(".lock"));
		ReInit();
	Flush(bool);
		m_mutex->Lock();
		wxASSERT(IsLatestLoaded());
		bool ok = wxFileConfig::Flush();
		if (ok)
		{
			m_last_file_mod = GetLastFileModified();
		}
		m_mutex->Unlock();
		return ok;
	protected wxDateTime GetLastFileModified() const;
	bool IsLatestLoaded() const;
		m_mutex->Lock();
		bool latest = (m_last_file_mod == GetLastFileModified());
		m_mutex->Unlock();
		return latest;
	ReInit()
		m_mutex->Lock();
		delete m_config;
		m_config = new wxFileConfig(wxT("dirt"), wxT(""), m_filename);
		m_config->SetUmask(0077);
		m_last_file_mod = GetLastFileModified();
		m_mutex->Unlock();
	EnsureLatestLoaded
		m_mutex->Lock();
		if (!IsLatestLoaded())
		{
			ReInit();
		}
		m_mutex->Unlock();

* nice about screen (wxHtmlWindow maybe?)

* /notice

* /lock

* WTS event bindings: Terminal_Connect, Disconnect, Lock, Unlock

* other scriptable bindings: Dirt_AuthPrompt, Connect, Disconnect

* Win32: fast incoming messages cause FlashWindow() not to work on at least WinXP
  Maybe restrict the time between FlashWindow() calls to say 1 second except if
  the window just got focused/unfocused (wxActivateEvent)

* don't allow empty server name

* ability to search multiple logs

* force full line selection if holding control when highlighting in logcontrol

* [x] close window on complete

* [x] close window on fail

* client options dialog
	file transfers
		[x] auto close
			on complete
				[x] send [x] receive
			on remote cancel
				[x] send [x] receive
			on fail
				[x] send [x] receive
		[x] auto accept
			directory with browse button

* add kde extension for /resetwindowpos

* update dirt homepage to extract details from exe and show latest ver number and
  modified date (preferably from RCS data, but last modified date would probably be okay)

* dirt:// protocol registration for mozilla on X11

* is there a way to tell gethostbyname() to cancel? (so we can speed up DNS::Cancel())

* only scroll to bottom if scrollpos was already at or near bottom
  and no scroll in progress and no selection in progress.

* scripting (/exec and /eval)

* banning (wxIsWild(), wxMatchWild(), wxString::Matches())

* hide /oper password when being typed

* highlighting has bugs on gtk (when updates happen while highlighting)

* when colour popup shows on GTK cannot programmically focus back to main window

* allow saving of passwords for servers

* optional password protection for saved passwords and private keys in dirt.ini

* notices to users via console@server

* automaticly check for new versions of Win32 Dirt on dirtchat.sourceforge.net

* hotkey for minimize to tray

* prefix caption with number in brackets showing how many msgs are waiting?

* /font (wxHtmlWindow::SetFonts() and maybe also drop <code/> usage)
	Use wxWin 2.5's default sizes if avail else use hardcoded for wxWin 2.4

* use Arial Unicode MS to display CJK characters if current font doesn't support

* research that log control gdi thing in 9x

* non-wrapping lines have row of blank pixels underneath (visible on highlight and bg colour)

* check that guards are in place where necessary to trap malformed messages
