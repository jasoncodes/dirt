* inputcontrol: when colour popup shows on GTK (and possibly other
  non-win32s) we seem to not be able to programmically give focus back to
  main window. Presently if an error occurs focusing the main window, the
  popup will be closed so the app is still usable but the popup will be
  unavailable.

* flickering when ctrl-tab

* mdi child icon sometimes doesn't show

* copy w/o formatting, find text, etc

* dcc send/recv dialog

* only scroll to bottom if scrollpos was already at bottom (and/or no sel)?

* research that log control gdi thing in 9x

* ideas for server: banning, motd

* single lines (ones that don't wrap) have a line of blank pixels
  underneath the line (visible when highlighting and using background colour)

* highlighting has bugs on gtk (when updates happen while highlighting)

* consecutive spaces that seperated by formatting (ctrl-k) get stripped

* file transfer firewall note: maybe should try connecting both ways
  at same time, and close the alt route if main succeeds, etc

* flashing text for main frame as FlashWindow() alternative

* prefix caption with number in brackets showing how many msgs are waiting?

* linux: use "signal(SIGINT, foo)" to catch "kill" or ctrl-c or something




/*
  * View an HTML file
  */

void heViewHTMLFile(const wxString& url)
{
     wxFileType *ft = wxTheMimeTypesManager->GetFileTypeFromExtension(wxT("html"));
     if ( !ft )
     {
         wxLogError(_T("Impossible to determine the file type for extension html. Please edit your MIME types."));
         return ;
     }

     wxString cmd;
     bool ok = ft->GetOpenCommand(&cmd,
                                  wxFileType::MessageParameters(url, _T("")));
     delete ft;

     if (!ok)
     {
         // TODO: some kind of configuration dialog here.
         wxMessageBox(_("Could not determine the command for running the browser."),
                    wxT("Browsing problem"), wxOK|wxICON_EXCLAMATION);
         return ;
     }

     // GetOpenCommand can prepend file:// even if it already has http://
     if (cmd.Find(wxT("http://")) != -1)
         cmd.Replace(wxT("file://"), wxT(""));

     ok = (wxExecute(cmd, FALSE) != 0);
}
